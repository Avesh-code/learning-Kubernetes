# Kubernetes Documentation
## 1. Operators
* Kubernetes Operators extend the Kubernetes API by defining custom resources and controllers that automate application-specific operations, making it easier to run and maintain complex software in Kubernetes clusters. They encapsulate operational expertise into software, improving reliability and productivity.

## 2. Helm 
* Helm is a package manager for Kubernetes that simplifies deploying and managing applications on Kubernetes clusters.
* Helm is a package manager that bundles all Kubernetes resource files (like deployments, services, and config maps) into reusable packages called charts, making application deployment, upgrades, and rollbacks simple and consistent.
* It allows you to customize deployments using values files or command-line options and operates as a client-side tool that interacts directly with the Kubernetes API, streamlining management and reducing manual errors.

* Benefits:
1. Simplifies Kubernetes application deployment.
2. Automates versioning and upgrades.
3. Enables easy sharing and reuse via Helm chart repositories.
4. Supports templating for configuring applications flexibly.

* lifecycle for Helm
create --> package --> install --> upgrade --> rollback --> uninstall

- **Installation of Helm** :
```bash
curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3
chmod 700 get_helm.sh
./get_helm.sh
helm version
```
- Create a helm chart 
```bash
helm create apache-helm
# there they make a dir of name apache-helm and the treeof that dir is 
tree
output:
.
├── charts
├── Chart.yaml
├── templates
│   ├── deployment.yaml
│   ├── _helpers.tpl
│   ├── hpa.yaml
│   ├── httproute.yaml
│   ├── ingress.yaml
│   ├── NOTES.txt
│   ├── serviceaccount.yaml
│   ├── service.yaml
│   └── tests
│       └── test-connection.yaml
└── values.yaml

4 directories, 11 files

```
### Directory structure of helm chart

This is the typical structure of a Helm chart created by `helm create`, where:

- `charts/` holds dependent sub-charts (dependencies).
- `Chart.yaml` contains metadata about the chart.
- `templates/` contains Kubernetes manifest templates (deployments, services, ingress, etc.) that define your app’s resources.
- `values.yaml` defines default configuration values used by the templates, which you can override.

This structure organizes your Kubernetes app and its configurations for easy packaging and deployment with Helm.
### For packaging and running a helm chart
1. Package: Package the helm chart we created but configure the Chart.yaml, values.yaml and do not forget to see the manifest files and edit as per own .
> NOTE: after creating every chart one thing is changed every time that is targetPort in service.yaml and also mentioning the ports in values.yaml
```bash
helm package <chart-folder-name->
```
2. Install: installing the chart and making diffrent diffrent environmet
```bash
# for malking diffrent environments change the env-name
helm install <environment-name> <chart-folder-name> -n <namespace-name> --create-namespace
# example:
helm install dev-apache apache-helm -n dev-apache --create-namespace
```
3. Upgrade: if any changes then first again do package and do upgrade
```bash
helm upgrade <environment-name> ./<chart-path> -n <namespace-name> 
# example:
helm upgrade prod-apache ./apache-helm -n prod-apache
```
4. Rollback: we can easily rollback to previous version
```bash
helm rollback <env-name> 1 -n <namespace>
#example:
helm rollback prod-apache 1 -n prod-apache
```
5. uninstall : we can remove it easily using uninstall command
```bash
helm uninstall <env-name> -n <namespace>
# example:
helm uninstall dev-apache -n dev-apache
```
* we can check using :
```bash
kubectl get pods -n <namespace>
kubectl get deployment -n <namespace>
kubectl get svc -n <namespace>
```
* other helm commands:
```bash
# it shows the list of helm charts created 
helm list
```
